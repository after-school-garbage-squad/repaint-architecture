# 画像処理についての仕様

## 画像のクラスタリング

GMM によるクラスタリングを行う予定。
クラスタリングする祭にはあらかじめ画像のドットを間引く。

HSV と画像の座標を用いてクラスタリングを行う。

クラスタリング時に、透過 png でクラスタごとのマスクしが画像を生成する。

### パレットについて

パレットは、画像をクラスタリングした色のクラスタである。

パレットには 0~n までの Index が割り振られており、ユーザーが所持しているパレットの Index は画像間で持ち越される。  
画像 A の Index1 が画像 B の Index1 と似ているクラスタの構成色である保証はない。

各画像は 0~n までの同じ数のパレットに分割される。

## 画像の生成

ユーザーのパレットの保有 Index によって、画像を生成する。

各パレットごとにマスクした透過 png を作成し、それを合成することで画像を生成する。
