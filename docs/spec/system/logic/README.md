# ロジック関係の仕様

## スポット関連

### スポットの検出方法

LINE Simple Beacon を使用して、スポットを構築する。
RSSI 値の下限値を設定して、それ以上の値ならばスポットに入ったと判定する。(下限値はインターネット上の JSON ファイルから設定するようにする)

#### RSSI 値の参考

| 端末       | 距離(最大) | RSSI 値(最大) | RSSI 値(1m) | 備考             |
| ---------- | ---------- | ------------- | ----------- | ---------------- |
| iPad Air 5 | 49.5m      | -93.0         | -76.0       |                  |
| SOG09      | 49.5m      | -98.0         | -74.0       | 標準誤差が大きい |

### イベント参加者のスポット滞在判定・複数スポット検出時の判定

イベント参加者が現在どのスポットにいるかという情報の判定方法について、

スポット滞在情報として、3 種類のパターンを考える。

- 一つのスポットに滞在している
- 複数のスポットに滞在している
- どのスポットにも滞在していない

前提として、モバイルから定期的に現在検出しているビーコンの情報が送られてくる。
よって、一定時間以上(2 分程度)、ビーコンの情報が送られてこない場合は、どのスポットにも滞在していないと判定する。

複数のスポットに滞在している場合は、RSSI 値が最も大きいスポットに滞在していると判定する。
この判定はモバイル側で行うこととする。

## アカウント削除時のデータ削除

アカウント削除時に、そのアカウントに紐付いているデータを削除する。
削除するデータはプライバシーに関わるデータとして定義している。
[参加者アカウントのプライバシーに関わるデータ](./data.md#プライバシーに関わるデータ)

## ピック・ドロップについての仕様

[ピック・ドロップについての仕様](./pick_drop.md)

